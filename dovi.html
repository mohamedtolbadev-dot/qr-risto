<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ŸÖÿ™ÿ¨ÿ± MAISON LUXE - ÿ™ÿ≥ŸàŸÇ ÿ∞ŸÉŸä ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel Standalone for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Amiri', 'Georgia', serif;
            background: #fafaf9;
        }
        
        .font-serif {
            font-family: 'Playfair Display', 'Amiri', serif;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }
        
        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-8px);
            }
        }
        
        .animate-bounce-dot {
            animation: bounce 1s infinite;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // ÿ£ŸäŸÇŸàŸÜÿßÿ™ Lucide (ŸÖÿ®ÿ≥ÿ∑ÿ©)
        const ShoppingBag = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/>
                <line x1="3" y1="6" x2="21" y2="6"/>
                <path d="M16 10a4 4 0 0 1-8 0"/>
            </svg>
        );

        const Send = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="22" y1="2" x2="11" y2="13"/>
                <polygon points="22 2 15 22 11 13 2 9 22 2"/>
            </svg>
        );

        const X = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="18" y1="6" x2="6" y2="18"/>
                <line x1="6" y1="6" x2="18" y2="18"/>
            </svg>
        );

        const Minus = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
        );

        const Plus = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <line x1="12" y1="5" x2="12" y2="19"/>
                <line x1="5" y1="12" x2="19" y2="12"/>
            </svg>
        );

        const Check = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="20 6 9 17 4 12"/>
            </svg>
        );

        const Sparkles = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/>
                <path d="M5 3v4"/>
                <path d="M19 17v4"/>
                <path d="M3 5h4"/>
                <path d="M17 19h4"/>
            </svg>
        );

        const ChevronRight = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <polyline points="9 18 15 12 9 6"/>
            </svg>
        );

        const AlertCircle = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <circle cx="12" cy="12" r="10"/>
                <line x1="12" y1="8" x2="12" y2="12"/>
                <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
        );

        // ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™
        const PRODUCTS = [
            {
                id: 1,
                name: "ÿ≥ÿßÿπÿ© ÿ∞Ÿáÿ®Ÿäÿ© ŸÅÿßÿÆÿ±ÿ©",
                price: 1299,
                image: "https://images.unsplash.com/photo-1523170335258-f5ed11844a49?w=400&h=400&fit=crop",
                description: "ÿ≥ÿßÿπÿ© ŸäÿØ ŸÅÿßÿÆÿ±ÿ© ÿ®ÿ™ÿµŸÖŸäŸÖ ÿπÿµÿ±Ÿä Ÿàÿ£ŸÜŸäŸÇÿå ŸÖÿµŸÜŸàÿπÿ© ŸÖŸÜ ÿßŸÑÿ∞Ÿáÿ® ÿπŸäÿßÿ± 18",
                category: "ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™"
            },
            {
                id: 2,
                name: "ÿ≠ŸÇŸäÿ®ÿ© ÿ¨ŸÑÿØŸäÿ© ÿ•Ÿäÿ∑ÿßŸÑŸäÿ©",
                price: 2499,
                image: "https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400&h=400&fit=crop",
                description: "ÿ≠ŸÇŸäÿ®ÿ© ÿ¨ŸÑÿØ ÿ∑ÿ®ŸäÿπŸä 100% ŸÖŸÜ ÿ•Ÿäÿ∑ÿßŸÑŸäÿßÿå ÿ®ÿ™ÿµŸÖŸäŸÖ ŸÉŸÑÿßÿ≥ŸäŸÉŸä ÿ£ŸÜŸäŸÇ",
                category: "ÿ≠ŸÇÿßÿ¶ÿ®"
            },
            {
                id: 3,
                name: "ÿπÿ∑ÿ± ÿ£ŸàÿØ ÿßŸÑŸÖŸÑŸÉŸä",
                price: 899,
                image: "https://images.unsplash.com/photo-1541643600914-78b084683601?w=400&h=400&fit=crop",
                description: "ÿπÿ∑ÿ± ÿ¥ÿ±ŸÇŸä ŸÅÿßÿÆÿ± ÿ®ÿ±ÿßÿ¶ÿ≠ÿ© ÿßŸÑÿπŸàÿØ ÿßŸÑÿ∑ÿ®ŸäÿπŸäÿå ŸäÿØŸàŸÖ 12 ÿ≥ÿßÿπÿ©",
                category: "ÿπÿ∑Ÿàÿ±"
            },
            {
                id: 4,
                name: "ŸÜÿ∏ÿßÿ±ÿ© ÿ¥ŸÖÿ≥Ÿäÿ© ŸÉŸÑÿßÿ≥ŸäŸÉŸäÿ©",
                price: 599,
                image: "https://images.unsplash.com/photo-1572635196237-14b3f281503f?w=400&h=400&fit=crop",
                description: "ŸÜÿ∏ÿßÿ±ÿ© ÿ¥ŸÖÿ≥Ÿäÿ© ÿ®ÿ™ÿµŸÖŸäŸÖ ŸÉŸÑÿßÿ≥ŸäŸÉŸä ŸÖÿπ ÿ≠ŸÖÿßŸäÿ© UV400",
                category: "ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™"
            },
            {
                id: 5,
                name: "ŸÖÿ≠ŸÅÿ∏ÿ© ÿ¨ŸÑÿØŸäÿ© ÿ±ÿßŸÇŸäÿ©",
                price: 399,
                image: "https://images.unsplash.com/photo-1627123424574-724758594e93?w=400&h=400&fit=crop",
                description: "ŸÖÿ≠ŸÅÿ∏ÿ© ÿ¨ŸÑÿØ ÿ∑ÿ®ŸäÿπŸä ÿ®ÿ™ÿµŸÖŸäŸÖ ÿ£ŸÜŸäŸÇ ŸàÿπŸÖŸÑŸäÿå ŸÖÿπ ÿ≠ŸÖÿßŸäÿ© RFID",
                category: "ÿ•ŸÉÿ≥ÿ≥Ÿàÿßÿ±ÿßÿ™"
            },
            {
                id: 6,
                name: "ÿ≥Ÿàÿßÿ± ÿ∞Ÿáÿ®Ÿä ŸÖÿ±ÿµÿπ",
                price: 1799,
                image: "https://images.unsplash.com/photo-1611591437281-460bfbe1220a?w=400&h=400&fit=crop",
                description: "ÿ≥Ÿàÿßÿ± ŸÖŸÜ ÿßŸÑÿ∞Ÿáÿ® ÿßŸÑÿ£ÿ®Ÿäÿ∂ ÿπŸäÿßÿ± 18 ŸÖÿ±ÿµÿπ ÿ®ÿßŸÑÿ£ŸÑŸÖÿßÿ≥",
                category: "ŸÖÿ¨ŸàŸáÿ±ÿßÿ™"
            }
        ];

        // ‚ö†Ô∏è ÿ∂ÿπ API Key ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ ŸáŸÜÿß
        const OPENROUTER_API_KEY = "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";

        const AIStore = () => {
            const [messages, setMessages] = useState([
                {
                    role: 'assistant',
                    content: 'ÿ£ŸáŸÑÿßŸã Ÿàÿ≥ŸáŸÑÿßŸã ÿ®ŸÉ ŸÅŸä ŸÖÿ™ÿ¨ÿ± MAISON LUXE ÿßŸÑŸÅÿßÿÆÿ±! ‚ú®\n\nÿ£ŸÜÿß ŸÖÿ≥ÿßÿπÿØŸÉ ÿßŸÑÿ¥ÿÆÿµŸä ŸÑŸÑÿ™ÿ≥ŸàŸÇ. ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä:\n\nüõçÔ∏è ÿπÿ±ÿ∂ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸÖÿ™ŸàŸÅÿ±ÿ©\nüí° ÿ™ŸÇÿØŸäŸÖ ÿ™ŸàÿµŸäÿßÿ™ ÿ≠ÿ≥ÿ® ÿ∞ŸàŸÇŸÉ\nüì¶ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑÿ£ÿ≥ÿπÿßÿ± ŸàÿßŸÑÿ™ŸàÿµŸäŸÑ\nüéÅ ÿßÿÆÿ™Ÿäÿßÿ± ŸáÿØÿßŸäÿß ŸÖŸÖŸäÿ≤ÿ©\n\nŸÉŸäŸÅ ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ÿßŸÑŸäŸàŸÖÿü'
                }
            ]);
            const [inputMessage, setInputMessage] = useState('');
            const [cart, setCart] = useState([]);
            const [isLoading, setIsLoading] = useState(false);
            const [showCart, setShowCart] = useState(false);
            const [error, setError] = useState(null);
            
            const messagesEndRef = useRef(null);
            const chatContainerRef = useRef(null);

            const scrollToBottom = () => {
                messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });
            };

            useEffect(() => {
                scrollToBottom();
            }, [messages]);

            const addToCart = (product) => {
                const existingItem = cart.find(item => item.id === product.id);
                if (existingItem) {
                    setCart(cart.map(item =>
                        item.id === product.id
                            ? { ...item, quantity: item.quantity + 1 }
                            : item
                    ));
                } else {
                    setCart([...cart, { ...product, quantity: 1 }]);
                }
                
                const confirmMessage = {
                    role: 'assistant',
                    content: `ÿ™ŸÖ ÿ•ÿ∂ÿßŸÅÿ© "${product.name}" ÿ•ŸÑŸâ ÿ≥ŸÑÿ™ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠! üéâ\n\nÿßŸÑÿ≥ÿπÿ±: ${product.price.toLocaleString()} ÿØ.ŸÖ\n\nŸáŸÑ ÿ™ÿ±ŸäÿØ:\n‚Ä¢ ÿ•ÿ∂ÿßŸÅÿ© ŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿ£ÿÆÿ±Ÿâÿü\n‚Ä¢ ÿ±ÿ§Ÿäÿ© ÿ™ŸàÿµŸäÿßÿ™ ŸÖÿ¥ÿßÿ®Ÿáÿ©ÿü\n‚Ä¢ ÿ•ÿ™ŸÖÿßŸÖ ÿπŸÖŸÑŸäÿ© ÿßŸÑÿ¥ÿ±ÿßÿ°ÿü`
                };
                setMessages(prev => [...prev, confirmMessage]);
            };

            const updateQuantity = (productId, change) => {
                setCart(cart.map(item =>
                    item.id === productId
                        ? { ...item, quantity: Math.max(1, item.quantity + change) }
                        : item
                ).filter(item => item.quantity > 0));
            };

            const removeFromCart = (productId) => {
                setCart(cart.filter(item => item.id !== productId));
            };

            const calculateTotal = () => {
                return cart.reduce((total, item) => total + (item.price * item.quantity), 0);
            };

            const buildSystemPrompt = () => {
                const productsInfo = PRODUCTS.map(p => 
                    `${p.id}. ${p.name} - ${p.price} ÿØ.ŸÖ (${p.category}): ${p.description}`
                ).join('\n');
                
                const cartInfo = cart.length > 0 
                    ? cart.map(item => `${item.name} √ó ${item.quantity} = ${(item.price * item.quantity).toLocaleString()} ÿØ.ŸÖ`).join('\n')
                    : 'ŸÅÿßÿ±ÿ∫ÿ©';
                
                return `ÿ£ŸÜÿ™ ŸÖÿ≥ÿßÿπÿØ ŸÖÿ®Ÿäÿπÿßÿ™ ÿ∞ŸÉŸä ŸàŸàÿØŸàÿØ ŸÅŸä ŸÖÿ™ÿ¨ÿ± MAISON LUXE ÿßŸÑŸÅÿßÿÆÿ±.

üéØ **ŸÖŸáÿßŸÖŸÉ:**
1. ÿπÿ±ÿ∂ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿ®ÿ∑ÿ±ŸäŸÇÿ© ÿ¨ÿ∞ÿßÿ®ÿ© ŸàŸÖŸÅÿµŸÑÿ©
2. ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿπŸÜ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸàÿßŸÑÿ£ÿ≥ÿπÿßÿ±
3. ÿ™ŸÇÿØŸäŸÖ ÿ™ŸàÿµŸäÿßÿ™ ÿ∞ŸÉŸäÿ© ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ÿßÿ≠ÿ™Ÿäÿßÿ¨ÿßÿ™ ÿßŸÑÿπŸÖŸäŸÑ
4. ŸÖÿ≥ÿßÿπÿØÿ© ÿßŸÑÿπŸÖŸäŸÑ ŸÅŸä ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™
5. ÿ¨ŸÖÿπ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™ŸàÿµŸäŸÑ ÿπŸÜÿØŸÖÿß ŸäŸÉŸàŸÜ ÿ¨ÿßŸáÿ≤ÿßŸã ŸÑŸÑÿ¥ÿ±ÿßÿ°

üì¶ **ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸÖÿ™ŸàŸÅÿ±ÿ©:**
${productsInfo}

üõí **ÿßŸÑÿ≥ŸÑÿ© ÿßŸÑÿ≠ÿßŸÑŸäÿ©:**
${cartInfo}
${cart.length > 0 ? `ÿßŸÑŸÖÿ¨ŸÖŸàÿπ: ${calculateTotal().toLocaleString()} ÿØ.ŸÖ` : ''}

‚ú® **ŸÇŸàÿßÿπÿØ ŸÖŸáŸÖÿ©:**
‚Ä¢ ŸÉŸÜ ÿ∑ÿ®ŸäÿπŸäÿßŸã ŸàŸàÿØŸàÿØÿßŸãÿå ŸÑŸäÿ≥ bot ÿ¢ŸÑŸä
‚Ä¢ ŸÑÿß ÿ™ŸÇŸäÿØ ÿßŸÑÿπŸÖŸäŸÑÿå ÿØÿπŸá Ÿäÿ≥ÿ£ŸÑ ŸÖÿß Ÿäÿ±ŸäÿØ
‚Ä¢ ÿ£ÿ¨ÿ® ÿπŸÑŸâ ÿ£Ÿä ÿ≥ÿ§ÿßŸÑ ÿπŸÜ ÿßŸÑŸÖÿ™ÿ¨ÿ±ÿå ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ÿå ÿßŸÑÿ™ŸàÿµŸäŸÑÿå ÿßŸÑÿØŸÅÿπ
‚Ä¢ ÿπŸÜÿØ ÿ∑ŸÑÿ® ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ÿå ÿßÿπÿ±ÿ∂ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ®ÿ¥ŸÉŸÑ ŸÖŸÜÿ∏ŸÖ Ÿàÿ¨ŸÖŸäŸÑ
‚Ä¢ ÿπŸÜÿØ ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ∑ŸÑÿ®ÿå ÿßÿ∑ŸÑÿ®: ÿßŸÑÿßÿ≥ŸÖÿå ÿßŸÑŸáÿßÿ™ŸÅÿå ÿßŸÑÿπŸÜŸàÿßŸÜ ÿßŸÑŸÉÿßŸÖŸÑ
‚Ä¢ ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ•ŸäŸÖŸàÿ¨Ÿä ÿ®ÿ∞ŸÉÿßÿ° Ÿàÿ®ÿØŸàŸÜ ŸÖÿ®ÿßŸÑÿ∫ÿ©

üí° **ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑŸÖÿ™ÿ¨ÿ±:**
‚Ä¢ ÿßŸÑÿ™ŸàÿµŸäŸÑ: ŸÖÿ¨ÿßŸÜŸä ŸÅŸàŸÇ 1000 ÿØ.ŸÖÿå Ÿàÿ•ŸÑÿß 50 ÿØ.ŸÖ
‚Ä¢ ŸàŸÇÿ™ ÿßŸÑÿ™ŸàÿµŸäŸÑ: 2-5 ÿ£ŸäÿßŸÖ ÿπŸÖŸÑ
‚Ä¢ ÿßŸÑÿØŸÅÿπ: ÿπŸÜÿØ ÿßŸÑÿßÿ≥ÿ™ŸÑÿßŸÖÿå ÿ®ÿ∑ÿßŸÇÿ© ÿßÿ¶ÿ™ŸÖÿßŸÜÿå ÿ™ÿ≠ŸàŸäŸÑ ÿ®ŸÜŸÉŸä
‚Ä¢ ÿßŸÑÿ•ÿ±ÿ¨ÿßÿπ: 14 ŸäŸàŸÖ ŸÖÿπ ÿßŸÑŸÅÿßÿ™Ÿàÿ±ÿ©

ÿ™ÿ∞ŸÉÿ±: ÿ£ŸÜÿ™ ŸÖÿ≥ÿßÿπÿØ ÿ∞ŸÉŸä ÿ≠ŸÇŸäŸÇŸäÿå ŸáÿØŸÅŸÉ ÿ•ÿ≥ÿπÿßÿØ ÿßŸÑÿπŸÖŸäŸÑ! üåü`;
            };

            const sendMessage = async () => {
                if (!inputMessage.trim() || isLoading) return;

                const userMessage = {
                    role: 'user',
                    content: inputMessage
                };

                setMessages(prev => [...prev, userMessage]);
                setInputMessage('');
                setIsLoading(true);
                setError(null);

                try {
                    console.log('üöÄ ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ∑ŸÑÿ® ÿ•ŸÑŸâ OpenRouter...');
                    
                    // ‚úÖ ÿßŸÑŸÄ URL ÿßŸÑÿµÿ≠Ÿäÿ≠ ÿ®ÿØŸàŸÜ ÿπŸÑÿßŸÖÿ© : ŸÅŸä ÿßŸÑŸÜŸáÿßŸäÿ©
                    const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${OPENROUTER_API_KEY}`,
                            'Content-Type': 'application/json',
                            'HTTP-Referer': window.location.origin,
                            'X-Title': 'MAISON LUXE AI Store'
                        },
                        body: JSON.stringify({
                            model: 'meta-llama/llama-3.1-8b-instruct:free',
                            messages: [
                                {
                                    role: 'system',
                                    content: buildSystemPrompt()
                                },
                                ...messages.slice(-10).filter(m => m.role !== 'system'),
                                userMessage
                            ],
                            temperature: 0.8,
                            max_tokens: 1500
                        })
                    });

                    console.log('üì° ÿ≠ÿßŸÑÿ© ÿßŸÑÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ©:', response.status);

                    if (!response.ok) {
                        const errorData = await response.json().catch(() => ({}));
                        console.error('‚ùå ÿÆÿ∑ÿ£ ŸÖŸÜ API:', errorData);
                        throw new Error(errorData.error?.message || `HTTP Error: ${response.status}`);
                    }

                    const data = await response.json();
                    console.log('‚úÖ ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ŸÜÿßÿ¨ÿ≠ÿ© ŸÖŸÜ AI');

                    if (!data.choices || !data.choices[0] || !data.choices[0].message) {
                        throw new Error('ÿßÿ≥ÿ™ÿ¨ÿßÿ®ÿ© ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ÿ© ŸÖŸÜ ÿßŸÑŸÄ API');
                    }

                    const aiResponse = {
                        role: 'assistant',
                        content: data.choices[0].message.content
                    };

                    setMessages(prev => [...prev, aiResponse]);

                } catch (error) {
                    console.error('‚ùå ÿÆÿ∑ÿ£:', error);
                    
                    let errorMessage = 'ÿπÿ∞ÿ±ÿßŸãÿå ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä. üòî\n\n';
                    
                    if (error.message.includes('401')) {
                        errorMessage += 'üîë **ŸÖÿ¥ŸÉŸÑÿ© ŸÅŸä API Key:**\n';
                        errorMessage += '‚Ä¢ ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿµÿ≠ÿ© ÿßŸÑŸÄ API Key\n';
                        errorMessage += '‚Ä¢ ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿ£ŸÜ ÿßŸÑŸÄ Key ŸÜÿ¥ÿ∑ ÿπŸÑŸâ openrouter.ai\n';
                    } else if (error.message.includes('429')) {
                        errorMessage += '‚è±Ô∏è **ÿ™ÿ¨ÿßŸàÿ≤ÿ™ ÿßŸÑÿ≠ÿØ ÿßŸÑŸÖÿ≥ŸÖŸàÿ≠:**\n';
                        errorMessage += '‚Ä¢ ÿßŸÜÿ™ÿ∏ÿ± ŸÇŸÑŸäŸÑÿßŸã ÿ´ŸÖ ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ\n';
                    } else if (error.message.includes('fetch')) {
                        errorMessage += 'üåê **ŸÖÿ¥ŸÉŸÑÿ© ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ:**\n';
                        errorMessage += '‚Ä¢ ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßÿ™ÿµÿßŸÑŸÉ ÿ®ÿßŸÑÿ•ŸÜÿ™ÿ±ŸÜÿ™\n';
                    } else {
                        errorMessage += `üìã **ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ:** ${error.message}\n`;
                    }
                    
                    errorMessage += '\nüí° **ŸäŸÖŸÉŸÜŸÉ:**\n';
                    errorMessage += '‚Ä¢ ÿßŸÑŸÖÿ≠ÿßŸàŸÑÿ© ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ\n';
                    errorMessage += '‚Ä¢ ÿ™ÿµŸÅÿ≠ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ŸäÿØŸàŸäÿßŸã\n';
                    errorMessage += '‚Ä¢ ÿßŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß: 0612-345678';
                    
                    setMessages(prev => [...prev, {
                        role: 'assistant',
                        content: errorMessage
                    }]);
                    
                    setError(error.message);
                } finally {
                    setIsLoading(false);
                }
            };

            const ProductCard = ({ product, inChat = false }) => (
                <div className={`group ${inChat ? 'bg-stone-50' : 'bg-white'} border border-stone-200 overflow-hidden transition-all duration-500 hover:shadow-xl hover:border-amber-800`}>
                    <div className="relative overflow-hidden aspect-square">
                        <img
                            src={product.image}
                            alt={product.name}
                            className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                        />
                        <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
                    </div>
                    <div className="p-4">
                        <div className="text-xs text-amber-800 font-medium mb-2 tracking-widest uppercase">{product.category}</div>
                        <h3 className="font-serif text-lg text-stone-900 mb-2">{product.name}</h3>
                        <p className="text-sm text-stone-600 mb-4 leading-relaxed">{product.description}</p>
                        <div className="flex items-center justify-between">
                            <div className="font-serif text-2xl text-amber-900">{product.price.toLocaleString()} <span className="text-base">ÿØ.ŸÖ</span></div>
                            <button
                                onClick={() => addToCart(product)}
                                className="bg-amber-900 text-stone-50 px-6 py-2 text-sm font-medium tracking-wider hover:bg-amber-800 transition-colors duration-300 flex items-center gap-2"
                            >
                                <ShoppingBag size={16} />
                                ÿ•ÿ∂ÿßŸÅÿ©
                            </button>
                        </div>
                    </div>
                </div>
            );

            const renderMessage = (message, index) => {
                return (
                    <div key={index} className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'} mb-6 animate-fadeIn`}>
                        <div className={`max-w-2xl ${message.role === 'user' ? 'bg-amber-900 text-stone-50' : 'bg-stone-100 text-stone-900'} px-6 py-4 shadow-sm rounded-lg`}>
                            <div className="whitespace-pre-wrap leading-relaxed">
                                {message.content}
                            </div>
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-stone-50">
                    {/* Error Banner */}
                    {error && (
                        <div className="bg-red-50 border-b border-red-200 px-4 py-3">
                            <div className="max-w-7xl mx-auto flex items-center gap-3 text-red-800">
                                <AlertCircle size={20} />
                                <span className="text-sm">ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ŸÅŸä ÿßŸÑÿßÿ™ÿµÿßŸÑ. ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ Console (F12) ŸÑŸÑÿ™ŸÅÿßÿµŸäŸÑ.</span>
                            </div>
                        </div>
                    )}

                    {/* Header */}
                    <header className="bg-white border-b border-stone-200 sticky top-0 z-40 backdrop-blur-sm bg-white/95">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center h-20">
                                <div className="flex items-center gap-3">
                                    <div className="w-10 h-10 bg-amber-900 flex items-center justify-center">
                                        <Sparkles size={20} className="text-stone-50" />
                                    </div>
                                    <h1 className="font-serif text-2xl text-stone-900 tracking-tight">MAISON LUXE</h1>
                                </div>
                                
                                <button
                                    onClick={() => setShowCart(!showCart)}
                                    className="relative p-3 hover:bg-stone-100 transition-colors duration-300 rounded-full"
                                >
                                    <ShoppingBag size={24} className="text-stone-900" />
                                    {cart.length > 0 && (
                                        <span className="absolute -top-1 -right-1 bg-amber-900 text-stone-50 text-xs w-6 h-6 flex items-center justify-center rounded-full font-medium">
                                            {cart.length}
                                        </span>
                                    )}
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Main Content */}
                    <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                            {/* Products Sidebar */}
                            <div className="lg:col-span-1 space-y-6">
                                <div className="bg-white border border-stone-200 p-6">
                                    <h2 className="font-serif text-xl text-stone-900 mb-6 flex items-center gap-2">
                                        <div className="w-1 h-6 bg-amber-900"></div>
                                        ŸÖŸÜÿ™ÿ¨ÿßÿ™ŸÜÿß ÿßŸÑŸÖŸÖŸäÿ≤ÿ©
                                    </h2>
                                    <div className="space-y-4">
                                        {PRODUCTS.slice(0, 3).map(product => (
                                            <div key={product.id} className="group cursor-pointer" onClick={() => addToCart(product)}>
                                                <div className="flex gap-3 items-start">
                                                    <img
                                                        src={product.image}
                                                        alt={product.name}
                                                        className="w-20 h-20 object-cover border border-stone-200 transition-transform duration-500 group-hover:scale-105"
                                                    />
                                                    <div className="flex-1">
                                                        <h3 className="text-sm font-medium text-stone-900 mb-1">{product.name}</h3>
                                                        <div className="font-serif text-amber-900">{product.price.toLocaleString()} ÿØ.ŸÖ</div>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            {/* Chat Area */}
                            <div className="lg:col-span-2">
                                <div className="bg-white border border-stone-200 h-[calc(100vh-12rem)] flex flex-col shadow-lg">
                                    {/* Chat Header */}
                                    <div className="bg-amber-900 text-stone-50 px-6 py-4 border-b border-amber-800">
                                        <div className="flex items-center gap-3">
                                            <div className="w-10 h-10 bg-stone-50 rounded-full flex items-center justify-center">
                                                <Sparkles size={20} className="text-amber-900" />
                                            </div>
                                            <div>
                                                <h3 className="font-medium">ŸÖÿ≥ÿßÿπÿØ ÿßŸÑÿ™ÿ≥ŸàŸÇ ÿßŸÑÿ∞ŸÉŸä</h3>
                                                <p className="text-xs text-stone-200">ÿ¨ÿßŸáÿ≤ ŸÑŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ŸÅŸä ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑŸÖÿ´ÿßŸÑŸäÿ©</p>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Messages */}
                                    <div
                                        ref={chatContainerRef}
                                        className="flex-1 overflow-y-auto p-6 space-y-4 scrollbar-hide"
                                    >
                                        {messages.map((message, index) => renderMessage(message, index))}
                                        {isLoading && (
                                            <div className="flex justify-start mb-6">
                                                <div className="bg-stone-100 px-6 py-4 rounded-2xl">
                                                    <div className="flex gap-2">
                                                        <div className="w-2 h-2 bg-amber-900 rounded-full animate-bounce-dot" style={{animationDelay: '0ms'}}></div>
                                                        <div className="w-2 h-2 bg-amber-900 rounded-full animate-bounce-dot" style={{animationDelay: '150ms'}}></div>
                                                        <div className="w-2 h-2 bg-amber-900 rounded-full animate-bounce-dot" style={{animationDelay: '300ms'}}></div>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                        <div ref={messagesEndRef} />
                                    </div>

                                    {/* Input */}
                                    <div className="border-t border-stone-200 p-4 bg-stone-50">
                                        <div className="flex gap-3">
                                            <input
                                                type="text"
                                                value={inputMessage}
                                                onChange={(e) => setInputMessage(e.target.value)}
                                                onKeyPress={(e) => e.key === 'Enter' && !e.shiftKey && sendMessage()}
                                                placeholder="ÿßŸÉÿ™ÿ® ÿ±ÿ≥ÿßŸÑÿ™ŸÉ ŸáŸÜÿß..."
                                                className="flex-1 px-4 py-3 border border-stone-300 focus:outline-none focus:border-amber-900 focus:ring-1 focus:ring-amber-900 transition-colors duration-300 text-right rounded-lg"
                                                disabled={isLoading}
                                            />
                                            <button
                                                onClick={sendMessage}
                                                disabled={isLoading || !inputMessage.trim()}
                                                className="bg-amber-900 text-stone-50 px-6 py-3 rounded-lg hover:bg-amber-800 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 flex items-center gap-2"
                                            >
                                                <Send size={20} />
                                                ÿ•ÿ±ÿ≥ÿßŸÑ
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    {/* Cart Sidebar */}
                    {showCart && (
                        <>
                            <div
                                className="fixed inset-0 bg-black/40 backdrop-blur-sm z-40 transition-opacity duration-300"
                                onClick={() => setShowCart(false)}
                            />
                            <div className="fixed left-0 top-0 h-full w-full max-w-md bg-white z-50 shadow-2xl transform transition-transform duration-500 overflow-y-auto">
                                <div className="sticky top-0 bg-amber-900 text-stone-50 px-6 py-4 flex justify-between items-center border-b border-amber-800">
                                    <h2 className="font-serif text-xl">ÿ≥ŸÑÿ© ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™</h2>
                                    <button
                                        onClick={() => setShowCart(false)}
                                        className="p-2 hover:bg-amber-800 rounded-full transition-colors duration-300"
                                    >
                                        <X size={24} />
                                    </button>
                                </div>

                                <div className="p-6">
                                    {cart.length === 0 ? (
                                        <div className="text-center py-12">
                                            <ShoppingBag size={64} className="mx-auto text-stone-300 mb-4" />
                                            <p className="text-stone-600 font-serif">ÿ≥ŸÑÿ™ŸÉ ŸÅÿßÿ±ÿ∫ÿ©</p>
                                            <p className="text-sm text-stone-500 mt-2">ÿßÿ®ÿØÿ£ ÿ®ÿ•ÿ∂ÿßŸÅÿ© ÿ®ÿπÿ∂ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ±ÿßÿ¶ÿπÿ©!</p>
                                        </div>
                                    ) : (
                                        <>
                                            <div className="space-y-4 mb-6">
                                                {cart.map(item => (
                                                    <div key={item.id} className="border border-stone-200 p-4 bg-stone-50 rounded-lg">
                                                        <div className="flex gap-4">
                                                            <img
                                                                src={item.image}
                                                                alt={item.name}
                                                                className="w-20 h-20 object-cover border border-stone-200 rounded"
                                                            />
                                                            <div className="flex-1">
                                                                <h3 className="font-medium text-stone-900 mb-1">{item.name}</h3>
                                                                <div className="font-serif text-amber-900 mb-2">{item.price.toLocaleString()} ÿØ.ŸÖ</div>
                                                                <div className="flex items-center gap-3">
                                                                    <button
                                                                        onClick={() => updateQuantity(item.id, -1)}
                                                                        className="w-8 h-8 border border-stone-300 flex items-center justify-center hover:bg-stone-100 transition-colors duration-300 rounded"
                                                                    >
                                                                        <Minus size={16} />
                                                                    </button>
                                                                    <span className="font-medium w-8 text-center">{item.quantity}</span>
                                                                    <button
                                                                        onClick={() => updateQuantity(item.id, 1)}
                                                                        className="w-8 h-8 border border-stone-300 flex items-center justify-center hover:bg-stone-100 transition-colors duration-300 rounded"
                                                                    >
                                                                        <Plus size={16} />
                                                                    </button>
                                                                    <button
                                                                        onClick={() => removeFromCart(item.id)}
                                                                        className="mr-auto text-red-600 hover:text-red-700 text-sm"
                                                                    >
                                                                        ÿ≠ÿ∞ŸÅ
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>

                                            <div className="border-t border-stone-300 pt-4 space-y-3">
                                                <div className="flex justify-between items-center text-lg">
                                                    <span className="font-serif text-stone-900">ÿßŸÑŸÖÿ¨ŸÖŸàÿπ:</span>
                                                    <span className="font-serif text-2xl text-amber-900">{calculateTotal().toLocaleString()} <span className="text-base">ÿØ.ŸÖ</span></span>
                                                </div>
                                                {calculateTotal() >= 1000 && (
                                                    <div className="bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-800">
                                                        üéâ ŸÖÿ®ÿ±ŸàŸÉ! ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ ÿ™ŸàÿµŸäŸÑ ŸÖÿ¨ÿßŸÜŸä
                                                    </div>
                                                )}
                                                <button
                                                    onClick={() => {
                                                        setShowCart(false);
                                                        const checkoutMessage = {
                                                            role: 'user',
                                                            content: 'ÿ£ÿ±ŸäÿØ ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ∑ŸÑÿ®'
                                                        };
                                                        setMessages(prev => [...prev, checkoutMessage]);
                                                        sendMessage();
                                                    }}
                                                    className="w-full bg-amber-900 text-stone-50 py-4 rounded-lg font-medium tracking-wider hover:bg-amber-800 transition-colors duration-300 flex items-center justify-center gap-2"
                                                >
                                                    <Check size={20} />
                                                    ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ∑ŸÑÿ®
                                                </button>
                                            </div>
                                        </>
                                    )}
                                </div>
                            </div>
                        </>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<AIStore />);
    </script>
</body>
</html>


